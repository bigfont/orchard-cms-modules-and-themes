@import '../Bootstrap/mixins.less';

@max-cols: 12;


.make-n-columns(@counter, @layout-prefix, @selector, @cols: 1) when (@counter > 0) {
    .make-n-columns((@counter - 1), @layout-prefix, @selector);

    &.@{layout-prefix}@{counter} {
        @{selector} {
            .make-md-column(@max-cols / @cols);
        }
    }
}

.make-nn-columns(@counter, @layout-prefix, @selector, @cols: 2) when (@counter > 0) {
    .make-nn-columns((@counter - 1), @layout-prefix, @selector, @cols);

    .inner(@inner) when (@counter < @inner) {
        .inner((@inner - 1));

        &.@{layout-prefix}@{counter}@{inner} {
            @{selector} {
                .make-md-column(@max-cols / @cols);
            }
        }
    }

    .inner(@counter);
}

.make-nnn-columns(@counter, @layout-prefix, @selector, @cols: 3) when (@counter > 0) {
    .make-nnn-columns((@counter - 1), @layout-prefix, @selector, @cols);

    .inner(@inner) when (@counter < @inner) {
        .inner((@inner - 1));

        .deep(@deep) when (@inner < @deep) {
            .deep((@deep - 1));

            &.@{layout-prefix}@{counter}@{inner}@{deep} {
                @{selector} {
                    .make-md-column(@max-cols / @cols);
                }
            }
        }

        .deep(@counter);
    }

    .inner(@counter);
}

.make-nnnn-columns(@counter, @layout-prefix, @selector, @cols: 4) when (@counter > 0) {
    .make-nnnn-columns((@counter - 1), @layout-prefix, @selector, @cols);

    .inner(@inner) when (@counter < @inner) {
        .inner((@inner - 1));

        .deep(@deep) when (@inner < @deep) {
            .deep((@deep - 1));

            .abyss(@abyss) when (@deep < @abyss) {
                .abyss((@abyss - 1));

                &.@{layout-prefix}@{counter}@{inner}@{deep}@{abyss} {
                    @{selector} {
                        .make-md-column(@max-cols / @cols);
                    }
                }
            }

            .abyss(@counter)
        }

        .deep(@counter);
    }

    .inner(@counter);
}
